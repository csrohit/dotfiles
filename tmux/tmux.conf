# Set plugin directory
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.local/state/tmux/plugins'
set -g mouse on
# Reload config keybinding
unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Unbind conflicting default bindings
unbind -n C-/
unbind -n C-_
unbind C-b

# Set prefix key to Ctrl + s
set -g prefix C-s
bind C-s send-prefix

# Start window and pane indices at 1
set -g base-index 1
set -g pane-base-index 1

# Terminal settings for true color and UTF-8 support
# Terminal settings for true color and UTF-8 support
set -g default-terminal "tmux-256color"
set -g default-terminal "xterm-256color"
set -ag terminal-overrides ",xterm-256color:Tc"

# Pane navigation with vim keys
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Status bar position
set-option -g status-position top

# Status bar settings - lengths and formats
set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""
set -g status-right "#{E:#catppuccin+status_session}"
set-window-option -g status-position top
set -g window-status-format "#I: #W"

# List of plugins managed by TPM
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'alexwforsythe/tmux-which-key'
set -g @plugin 'catppuccin/tmux'
set -g @plugin 'joshmedeski/tmux-nerd-font-window-name'

# Catppuccin theme configuration
set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_status_background "#242638"
set -g @catppuccin_window_text "#W"
set -g @catppuccin_window_current_text "#W"
set -g @catppuccin_window_number_position "right"
set -g @catppuccin_window_status "no"
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_fill "number"
set -g @catppuccin_window_current_color "#{E:@thm_surface_2}"
set -g @catppuccin_window_module_text_bg "#{E:@thm_mantle}"

# Load catppuccin theme (use variable)
run "#{TMUX_PLUGIN_MANAGER_PATH}/tmux/catppuccin.tmux"

# Initialize TPM (keep as the last line, use variable)
run -b "#{TMUX_PLUGIN_MANAGER_PATH}/tpm/tpm"
